<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_nzqtku24z7e4-1>li:before{content:"(" counter(lst-ctn-kix_nzqtku24z7e4-1,lower-latin) ") "}.lst-kix_nzqtku24z7e4-0>li:before{content:"(" counter(lst-ctn-kix_nzqtku24z7e4-0,decimal) ") "}.lst-kix_nzqtku24z7e4-2>li:before{content:"(" counter(lst-ctn-kix_nzqtku24z7e4-2,lower-roman) ") "}ol.lst-kix_nzqtku24z7e4-3.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-3 0}.lst-kix_nzqtku24z7e4-3>li:before{content:"" counter(lst-ctn-kix_nzqtku24z7e4-3,decimal) ") "}.lst-kix_nzqtku24z7e4-1>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-1}.lst-kix_nzqtku24z7e4-3>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-3}ol.lst-kix_nzqtku24z7e4-8.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-8 0}ol.lst-kix_nzqtku24z7e4-1.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-1 0}.lst-kix_nzqtku24z7e4-6>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-6}.lst-kix_nzqtku24z7e4-2>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-2}ol.lst-kix_nzqtku24z7e4-6.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-6 0}ol.lst-kix_nzqtku24z7e4-4{list-style-type:none}ol.lst-kix_nzqtku24z7e4-5{list-style-type:none}ol.lst-kix_nzqtku24z7e4-4.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-4 0}ol.lst-kix_nzqtku24z7e4-6{list-style-type:none}ol.lst-kix_nzqtku24z7e4-7{list-style-type:none}.lst-kix_nzqtku24z7e4-8>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-8}ol.lst-kix_nzqtku24z7e4-0{list-style-type:none}ol.lst-kix_nzqtku24z7e4-1{list-style-type:none}ol.lst-kix_nzqtku24z7e4-2{list-style-type:none}ol.lst-kix_nzqtku24z7e4-3{list-style-type:none}.lst-kix_nzqtku24z7e4-5>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-5}ol.lst-kix_nzqtku24z7e4-8{list-style-type:none}.lst-kix_nzqtku24z7e4-0>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-0}.lst-kix_nzqtku24z7e4-8>li:before{content:"" counter(lst-ctn-kix_nzqtku24z7e4-8,lower-roman) ". "}.lst-kix_nzqtku24z7e4-7>li:before{content:"" counter(lst-ctn-kix_nzqtku24z7e4-7,lower-latin) ". "}ol.lst-kix_nzqtku24z7e4-0.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-0 0}ol.lst-kix_nzqtku24z7e4-7.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-7 0}.lst-kix_nzqtku24z7e4-4>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-4}.lst-kix_nzqtku24z7e4-5>li:before{content:"" counter(lst-ctn-kix_nzqtku24z7e4-5,lower-roman) ") "}ol.lst-kix_nzqtku24z7e4-5.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-5 0}.lst-kix_nzqtku24z7e4-4>li:before{content:"" counter(lst-ctn-kix_nzqtku24z7e4-4,lower-latin) ") "}.lst-kix_nzqtku24z7e4-6>li:before{content:"" counter(lst-ctn-kix_nzqtku24z7e4-6,decimal) ". "}ol.lst-kix_nzqtku24z7e4-2.start{counter-reset:lst-ctn-kix_nzqtku24z7e4-2 0}.lst-kix_nzqtku24z7e4-7>li{counter-increment:lst-ctn-kix_nzqtku24z7e4-7}ol{margin:0;padding:0}table td,table th{padding:0}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c4{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c6{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c7{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c3{color:inherit;text-decoration:inherit}.c5{font-weight:700}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c7 doc-content"><p class="c2"><span class="c5">Webpage Link: </span><span class="c6"><a class="c3" href="https://www.google.com/url?q=https://cal-cs184-student.github.io/hw-webpages-sp24-GarciaEricS/hw4/index.html&amp;sa=D&amp;source=editors&amp;ust=1712314353536111&amp;usg=AOvVaw0RTC-Tu61L-rV-Eql-M3o4">https://cal-cs184-student.github.io/hw-webpages-sp24-GarciaEricS/hw4/index.html</a></span></p><p class="c1"><span class="c4"></span></p><p class="c2"><span class="c4">Overview:</span></p><p class="c2"><span class="c0">In this project, we implemented cloth simulation including self-collision, plane and sphere collision, and shaders. The biggest issue we encountered was with our hash function. Coming up with a hash function to uniquely assign each 3D region to its own unique float was quite challenging. To fix this, we thought about how we could use three ints to uniquely create a float (the 3 ints identity which box we are in), and we figured out multiplying them by square roots of prime numbers and adding the products together would give us a unique float due to the properties of irrational numbers. Otherwise, we did not have too many issues.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">The project was very fun! We learned a lot about real-time material simulation and how basic principles of rules like &ldquo;do not let points move from one side of a plane to the other&rdquo; could create very convincing recreations. Of course, the cloth we&rsquo;ve created is not completely realistic, but it is very good for the basic ideas we implemented.</span></p><p class="c1"><span class="c4"></span></p><p class="c2"><span class="c4">Part 1:</span></p><p class="c2"><span class="c0">To build the grid, we iterate two variables up to num_height_points and num_width_points (in that order to ensure row-major order), then calculate the position of the point mass based on whether the cloth is horizontal or vertical. We check if that point mass should be pinned based on whether its index is true in a vector we previously computed which has true in all indices corresponding to points that should be pinned and false elsewhere. We then construct the point mass and place it at the end of the point_masses vector.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Then, we loop through all point indices, and for each one, we construct the appropriate springs if the location of the other point (for example, diagonal up and left) is a point in the cloth. We then add that cloth to the springs vector and we are done.</span></p><p class="c1"><span class="c4"></span></p><p class="c2"><span class="c0">Here is scene/pinned2.json with&hellip;</span></p><p class="c2"><span class="c0">(1) - Without any shearing constraints</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">(2) - With only shearing constraints</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image3.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">(3) - With all constraints</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image30.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c4">Part 2:</span></p><p class="c2"><span class="c0">The spring constant, ks, dictates how much the cloth behave like a stiff structure. For low values of ks, the top of the cloth (the side with two fixed points, deforms and has a large dip in the middle of that edge that is farther from the fixed points and the cloth does not jut out into the z axis, as seen in the pictures below. </span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Low ks front view:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image10.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">Low ks side view (it is very flat):</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">It&rsquo;s as if the cloth ignores itself because it does not repel from itself. High ks values means the cloth behaves more like a rigid structure, almost like a piece of paper but with a bit of folding near the top. The internal repulsion forces are powerful, so the cloth sits very flat near the top even though only two corners are fixed. Here is a photo for visualization.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">High ks front view:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image24.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">High ks side view.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image20.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">For more moderate ks values, the cloth acts a bit rigid but still have some flexibility to it, much like a real cloth. For extremely high values of ks, the simulation becomes unstable and the cloth diverges in an explosion-like fashion.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Density has the inverse effect of ks. As density increases, the impact of spring forces will decrease, while external accelerations, like from gravity, are unaffected. As such, the screenshot from a low ks looks like the screenshot from a high density and high ks looks like low density. And, when the density is very low, the simulation becomes unstable like with an extremely high ks.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Dampening effects essentially how stable the cloth is and how fast it will approach stability. At low dampening, the cloth swings wildly and does not stop, or takes a while to stop, and different parts of the cloth are jutting out in unpredictable directions. Here is a screenshot illustrating one still from it bouncing.</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Low dampening.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image35.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">For a high dampening, the cloth falls extremely slowly and does not swing back and forth. A screenshot of this would be very boring so I will omit it.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c4">Part 3:</span></p><p class="c1"><span class="c4"></span></p><p class="c2"><span class="c0">We implemented the sphere collision by first checking if a point is inside the sphere by checking if the distance between the point and the origin of the sphere is less than the radius of the sphere. If the point is inside the sphere, we take the previously computed ray between the origin and the point and scale it up to have the same length as the radius of the sphere, which places it on the surface of the sphere. We call this point on the surface of the sphere the tangent point. Then we compute a correction vector by taking the difference between the tangent point and the last position of the point. We then scale down this correction vector by multiplying it by (1 - the friction of the sphere). We add this correction vector to the last position of the point to get the updated position of the point.</span></p><p class="c1"><span class="c4"></span></p><p class="c2"><span class="c0">Here are images of the cloth in its final resting state on the sphere with different ks values:</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">ks = 5000 (default):</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 594.00px; height: 564.00px;"><img alt="" src="images/image8.png" style="width: 594.00px; height: 564.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">ks = 500:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 496.00px; height: 510.00px;"><img alt="" src="images/image22.png" style="width: 496.00px; height: 510.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">ks = 50,000:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 514.67px;"><img alt="" src="images/image32.png" style="width: 624.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">We can see above that as we increase the ks value, the cloth becomes more stiff. When ks is low (i.e., in the ks = 500 case), the cloth clings tightly to the sphere and you can see much of the sphere geometry shown on the cloth. The cloth also crumples more and folds in on itself more. When ks is high (i.e., in the ks = 50,000 case), the cloth pulls away and &ldquo;sticks out&rdquo; from the sphere instead of wrapping around the sphere&rsquo;s surface. It forms many less creases and folds on itself much less.</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c4"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">For the plane collision implementation, we first determine whether the previous position and current position of the point of interest are on different sides of the hyperplane by comparing signs of inner products. If they are on different sides, we project the point of interest onto the plane using algebra techniques involving inner products and direction vectors. From there, we compute whether the old position is in the direction of the normal vector or on the other side of the plane. We then add a small version of either the normal vector or the negative of the normal vector to ensure our position does not end up on the other side of the plane as the old position. </span></p><p class="c2"><span>Here is a screenshot of the cloth lying peacefully on the plane. </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c4">Part 4:</span></p><p class="c2"><span class="c0">Here is ../scene/selfCollision.json at an early self-collision</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Here is the cloth after falling more and more self-collision</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image11.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">And here is a side profile from the same still:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">And here is the cloth at a more restful state:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image13.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">At a low density, the internal self-collision repulsion forces are powerful, so the cloth lays very flat on itself in a very uniform fashion, as any irregularity from weird folding leads to strong repulsion and the cloth moving away from that state. For example, the above image where there is a lump of cloth under the top right portion of the cloth, causing a bump at rest. This does not happen with low density. Instead we see uniformity as seen below </span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span>Low Density:</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Also, because the self-collision forces are so strong at low density, we see a large gap between the layers of cloth and we see a very large curve from whether the cloth is folding, as we can see if we look at the above still from another angle:</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Low Density:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image31.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">At higher density levels, we notice there is much more irregularity in how the cloth folds on itself. For example, here with a high density, we see the cloth in a restful state with a bump from other cloth positioned underneath.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">High density:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image23.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">This would not happen at a lower density, as the forces repelling the cloth away from itself are stronger.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Also, we can note that with low density, the cloth will spread flat much faster than with high density. For example, here is what the cloth looks like when the top of the cloth starts colliding with the rest of the cloth on the plane with low density:</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image34.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span>And here is when the top of the cloth starts colliding with the rest of the cloth of the plane with high-density</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image7.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">As we can see, with low-density, the cloth is much flatter and more regular, while with high density, the cloth is less flat and more jumbled.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">As for the spring constant, ks, with a low ks, the cloth jumbles on itself while it falls, with many irregular bumps and ridges where pieces of cloth become stuck. For example, here is what the cloth looks like when the top of the cloth starts colliding with the rest of the cloth on the plane with low ks:</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Low ks:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image19.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">As you can see the cloth is very jumbled compared to the below image, where we the top of the cloth starts colliding with the rest of the cloth on the plane but now with high ks:</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">High ks:</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image12.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">As we can see, with a high ks value, the cloth rapidly much very flare with very few irregularities compared to the version with a low ks value. Irregularities and lumps are allowed to persist for much longer with a low ks value while they are quickly ironed out with a high ks value.</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c4">Part 5:</span></p><p class="c1"><span class="c4"></span></p><p class="c2"><span>A shader is a program that computes the visual properties of a scene (i.e., light, color, etc.). The two types of shaders are vertex shaders and fragment shaders. A vertex shader processes each vertex. This processing can change the vertex&rsquo;s position vector, normal vector, tangent vector, and texture coordinates. A fragment shader processes each fragment (a fragment is like a sample). This processing computes a 4D color vector for the fragment based on the </span><span>barycentrically</span><span class="c0">&nbsp;interpolated position vector, normal vector, tangent vector, and texture coordinates of the fragment, in addition to some provided constants such as texture maps. These two processes are run in sequence (first all the vertices are processed, and then the fragments are processed) to create lighting and material effects in the image. These two processes are part of a larger graphics pipeline that includes steps such as rasterization and sending data to the framebuffer, among various other steps. However, the vertex and fragment shaders are the shader programs that are generally written by programmers, whereas other steps are generally not modified. The useful thing about these shaders is that they can be efficiently parallelized by a GPU. Since we can just run the exact same code on every vertex and the same code on every fragment, we can employ the massive number of cores on a CPU to process large numbers of vertices and fragments all at the same time. The key reason this works is that the code for a vertex shader only processes one vertex and the code for one fragment, with no need to check the attributes of other vertices or fragments. This makes the shader code very easy to run in parallel because there is no need to handle any sort of shared state.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">The Blinn-Phong shading model has three components. First, an ambient light term which is constantly applied to every fragment. Second, a diffuse lighting term which is the direct light on a fragment assuming that the surface is a Lambertian diffuse surface. In the diffuse term, the light&rsquo;s irradiance falls off with the square of the distance between the object and the light, and is scaled by the cosine of the angle between the light and the surface normal, as well as being scaled by a constant factor. Finally, a specular lighting term is calculated. This term is meant to account for bright highlights on reflective surfaces. In this term, the light&rsquo;s irradiance also falls off with the square of the distance between the object and the light, and it is scaled by the cosine of the angle between the surface normal and the half vector between the light vector and the view vector (raised to a specular power p), as well as being scaled by a constant factor. Finally, all these terms are added together to create the final color of the pixel.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Here is an image of using only the ambient component of the Blinn-Phong shading model:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 571.00px; height: 563.00px;"><img alt="" src="images/image18.png" style="width: 571.00px; height: 563.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Here is an image of using only the diffuse component of the Blinn-Phong shading model:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 562.00px; height: 536.00px;"><img alt="" src="images/image15.png" style="width: 562.00px; height: 536.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Here is an image of using only the specular component of the Blinn-Phong shading model:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 543.00px; height: 556.00px;"><img alt="" src="images/image33.png" style="width: 543.00px; height: 556.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Here is an image of using the entire Blinn-Phong shading model:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 561.00px; height: 534.00px;"><img alt="" src="images/image16.png" style="width: 561.00px; height: 534.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Here is a screenshot of the texture mapping shader using a custom texture:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 582.67px;"><img alt="" src="images/image28.png" style="width: 624.00px; height: 582.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Bump mapping on the cloth and on the sphere using texture3.png:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image29.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Bump mapping on the cloth has fallen on the sphere using texture3.png:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image14.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Displacement mapping on the cloth using texture3.png</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image25.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">As you can see, displacement mapping creates a much more coarse geometry than bump mapping since displacement mapping shifts the geometry up and down while bump mapping leaves it stationary. The result is that bump mapping leaves something like the sphere still looking like a sphere while the displacement-mapped sphere looks vaguely sphere-shaped but with many caves and ridges.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image27.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Here is a screenshot of the mirror shader on the cloth and on the sphere:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image26.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">And here is the mirror shader on the cloth that has fallen onto the sphere:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 338.67px;"><img alt="" src="images/image17.png" style="width: 624.00px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c4">Extra Credit:</span></p><p class="c1"><span class="c4"></span></p><p class="c2"><span>For the extra credit shader, we made a pseudo-random shader. This shader generates a color pseudorandomly based on the position, normal vector, and tangent vector of a given fragment. The pseudorandom numbers are generated using a method we found in this StackOverflow post: </span><span class="c6"><a class="c3" href="https://www.google.com/url?q=https://stackoverflow.com/a/4275343&amp;sa=D&amp;source=editors&amp;ust=1712314353547238&amp;usg=AOvVaw3jdKHrfmqAQDg0auoglAaE">https://stackoverflow.com/a/4275343</a></span><span class="c0">. The idea is that the supplied seed vector&rsquo;s values are scaled up and added and then we take the sinusoid of this value and scale it up again. This gives a large number that has high variation if you slightly tweak the seed vector. We take the fractional part of this to make it the correct range for the entries of a color vector. Taking the fractional part also completely removes any noticeable correlation between the color values at nearby points.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Here is an image of our custom shader in action:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 618.00px; height: 599.00px;"><img alt="" src="images/image21.png" style="width: 618.00px; height: 599.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></body></html>